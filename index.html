<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fleet Operation Dashboard</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: #e4e4e4; padding: 20px; min-height: 100vh; }
        .header { text-align: center; margin-bottom: 30px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 12px; backdrop-filter: blur(10px); }
        .header h1 { font-size: 2.5em; color: #00d4ff; text-shadow: 0 0 20px rgba(0, 212, 255, 0.3); margin-bottom: 10px; }
        .header p { color: #b0b0b0; font-size: 1.1em; }
        .dashboard-container { max-width: 1400px; margin: 0 auto; }
        .section { background: rgba(30, 30, 46, 0.8); border-radius: 12px; padding: 25px; margin-bottom: 25px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3); border: 1px solid rgba(255, 255, 255, 0.1); }
        .section-title { font-size: 1.8em; color: #00d4ff; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 2px solid rgba(0, 212, 255, 0.3); }
        .vehicle-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 20px; }
        .vehicle-card { background: linear-gradient(135deg, #2a2a40 0%, #1f1f2e 100%); border-radius: 10px; padding: 20px; border: 1px solid rgba(0, 212, 255, 0.2); transition: transform 0.3s, box-shadow 0.3s; }
        .vehicle-card:hover { transform: translateY(-5px); box-shadow: 0 12px 24px rgba(0, 212, 255, 0.2); }
        .vehicle-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
        .vehicle-name { font-size: 1.3em; font-weight: bold; color: #00d4ff; }
        .vehicle-status { padding: 5px 12px; border-radius: 20px; font-size: 0.85em; font-weight: bold; }
        .status-good { background: rgba(0, 255, 136, 0.2); color: #00ff88; }
        .status-warning { background: rgba(255, 193, 7, 0.2); color: #ffc107; }
        .status-alert { background: rgba(255, 82, 82, 0.2); color: #ff5252; }
        .vehicle-info { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 15px; }
        .info-item { background: rgba(0, 0, 0, 0.3); padding: 10px; border-radius: 8px; border-left: 3px solid #00d4ff; }
        .info-label { font-size: 0.85em; color: #b0b0b0; margin-bottom: 5px; }
        .info-value { font-size: 1.2em; font-weight: bold; color: #fff; }
        .chart-container { position: relative; height: 350px; background: rgba(0, 0, 0, 0.3); border-radius: 10px; padding: 20px; margin-top: 20px; }
        .battery-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; }
        .battery-card { background: linear-gradient(135deg, #2a2a40 0%, #1f1f2e 100%); border-radius: 10px; padding: 20px; border: 1px solid rgba(255, 193, 7, 0.3); }
        .battery-level { display: flex; align-items: center; margin: 15px 0; }
        .battery-bar-container { flex: 1; height: 30px; background: rgba(0, 0, 0, 0.4); border-radius: 15px; overflow: hidden; margin: 0 10px; border: 2px solid rgba(255, 255, 255, 0.1); }
        .battery-bar { height: 100%; background: linear-gradient(90deg, #00ff88, #00d4ff); transition: width 0.5s ease; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 0.9em; }
        .battery-bar.low { background: linear-gradient(90deg, #ff5252, #ff8a80); }
        .battery-bar.medium { background: linear-gradient(90deg, #ffc107, #ffeb3b); }
        .alert-box { background: rgba(255, 82, 82, 0.1); border-left: 4px solid #ff5252; padding: 15px; border-radius: 8px; margin-top: 10px; }
        .alert-title { font-weight: bold; color: #ff5252; margin-bottom: 5px; }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸš› Fleet Operation Dashboard</h1>
        <p>ì¤‘ì†Œê·œëª¨ ë¬¼ë¥˜ ì—…ì²´ë¥¼ ìœ„í•œ í†µí•© ì°¨ëŸ‰ ë° ë°°í„°ë¦¬ ê´€ë¦¬ ì‹œìŠ¤í…œ</p>
    </div>
    <div class="dashboard-container">
        <div class="section">
            <h2 class="section-title">ğŸ“Š ì°¨ëŸ‰ë³„ í†µí•© ìƒíƒœ</h2>
            <div class="vehicle-grid" id="vehicleGrid"></div>
        </div>
        <div class="section">
            <h2 class="section-title">ğŸ”‹ ë°°í„°ë¦¬ ê´€ë¦¬</h2>
            <div class="battery-grid" id="batteryGrid"></div>
            <div class="chart-container"><canvas id="batteryChart"></canvas></div>
        </div>
        <div class="section">
            <h2 class="section-title">ğŸ’° ì›”ë³„ ìš´ì˜ë¹„ ë¶„ì„</h2>
            <div class="chart-container"><canvas id="costChart"></canvas></div>
        </div>
    </div>
<script>
    /* --- ì œì¡°ë§Œë‹¹ ë³´ì•ˆ ë¡œì§ --- */
    (function() {
        const correctPassword = "1234"; 
        let password = prompt("ì œì¡°ë§Œë‹¹ Fleet ì†”ë£¨ì…˜ ë³´ì•ˆì„ ìœ„í•´ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
        if (password !== correctPassword) {
            alert("ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            document.documentElement.innerHTML = `<div style="display:flex; justify-content:center; align-items:center; height:100vh; background:#1a1a2e; color:#ff5252; flex-direction:column;"><h1>ğŸš« ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ</h1><button onclick="location.reload()" style="margin-top:20px; padding:10px 20px;">ë‹¤ì‹œ ì‹œë„</button></div>`;
            window.stop(); throw new Error("Access Denied");
        }
    })();

    /* --- ë°ì´í„° ì •ì˜ --- */
    const sampleVehicles = [
        { id: 'V001', name: '1í†¤ íŠ¸ëŸ­ A', mileage: 45280, maintenanceDays: 15, fuelCost: 850000, status: 'good' },
        { id: 'V002', name: '2.5í†¤ íŠ¸ëŸ­ B', mileage: 67540, maintenanceDays: 3, fuelCost: 1250000, status: 'warning' },
        { id: 'V003', name: '5í†¤ íŠ¸ëŸ­ C', mileage: 89320, maintenanceDays: -2, fuelCost: 1780000, status: 'alert' },
        { id: 'V004', name: 'ë°´ D', mileage: 23450, maintenanceDays: 28, fuelCost: 620000, status: 'good' }
    ];

    const sampleBatteries = [
        { vehicle: '1í†¤ íŠ¸ëŸ­ A', level: 85, voltage: 12.6, current: 45, replaceDate: '2025-08-15' },
        { vehicle: '2.5í†¤ íŠ¸ëŸ­ B', level: 62, voltage: 12.2, current: 38, replaceDate: '2025-04-20' },
        { vehicle: '5í†¤ íŠ¸ëŸ­ C', level: 35, voltage: 11.8, current: 25, replaceDate: '2025-02-10' },
        { vehicle: 'ë°´ D', level: 92, voltage: 12.8, current: 52, replaceDate: '2025-10-05' }
    ];

    // [ì¤‘ìš”] ì°¨ëŸ‰ë³„ ì›”ê°„ ìœ ì§€ë¹„ ë°ì´í„° êµ¬ì¡°ë¡œ ë³€ê²½
    const monthlyCosts = {
        labels: ['1ì›”', '2ì›”', '3ì›”', '4ì›”', '5ì›”', '6ì›”'],
        vehicles: [
            { name: '1í†¤ íŠ¸ëŸ­ A', costs: [120, 135, 128, 145, 130, 140], color: '#00d4ff' },
            { name: '2.5í†¤ íŠ¸ëŸ­ B', costs: [250, 240, 265, 255, 270, 280], color: '#ffc107' },
            { name: '5í†¤ íŠ¸ëŸ­ C', costs: [450, 480, 420, 510, 460, 490], color: '#ff5252' },
            { name: 'ë°´ D', costs: [95, 102, 98, 110, 105, 108], color: '#00ff88' }
        ]
    };

    /* --- ë Œë”ë§ í•¨ìˆ˜ë“¤ --- */
    function renderVehicles() {
        const grid = document.getElementById('vehicleGrid');
        grid.innerHTML = '';
        sampleVehicles.forEach(v => {
            const card = document.createElement('div');
            card.className = 'vehicle-card';
            card.innerHTML = `<div class="vehicle-header"><div class="vehicle-name">${v.name}</div><div class="vehicle-status status-${v.status}">${v.status === 'good' ? 'ì •ìƒ' : 'ì£¼ì˜'}</div></div><div class="vehicle-info"><div class="info-item"><div class="info-label">ì£¼í–‰ê±°ë¦¬</div><div class="info-value">${v.mileage.toLocaleString()} km</div></div><div class="info-item"><div class="info-label">ì •ë¹„ ì”ì—¬ì¼</div><div class="info-value">${v.maintenanceDays > 0 ? v.maintenanceDays : 0}ì¼</div></div></div>`;
            grid.appendChild(card);
        });
    }

    function renderBatteries() {
        const grid = document.getElementById('batteryGrid');
        grid.innerHTML = '';
        sampleBatteries.forEach(b => {
            const card = document.createElement('div');
            card.className = 'battery-card';
            card.innerHTML = `<h3 style="color:#ffc107; margin-bottom:10px;">${b.vehicle}</h3><div class="battery-level"><div class="battery-bar-container"><div class="battery-bar" style="width:${b.level}%">${b.level}%</div></div></div>`;
            grid.appendChild(card);
        });
    }

    function renderCharts() {
        // ë°°í„°ë¦¬ ì „ì•• ì°¨íŠ¸
        const bCtx = document.getElementById('batteryChart').getContext('2d');
        new Chart(bCtx, { type: 'line', data: { labels: ['D1', 'D2', 'D3'], datasets: [{ label: 'Voltage', data: [12.6, 12.5, 12.6], borderColor: '#00d4ff' }] }, options: { responsive: true, maintainAspectRatio: false } });

        // [í•µì‹¬ ìˆ˜ì •] ì°¨ëŸ‰ë³„ ìœ ì§€ë¹„ ì°¨íŠ¸
        const cCtx = document.getElementById('costChart').getContext('2d');
        const datasets = monthlyCosts.vehicles.map(v => ({
            label: v.name,
            data: v.costs,
            backgroundColor: v.color + 'B3', // 70% íˆ¬ëª…ë„
            borderColor: v.color,
            borderWidth: 2
        }));

        new Chart(cCtx, {
            type: 'bar',
            data: { labels: monthlyCosts.labels, datasets: datasets },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { 
                    legend: { labels: { color: '#fff' } },
                    title: { display: true, text: 'ì°¨ëŸ‰ë³„ ì›”ê°„ í†µí•© ìœ ì§€ë¹„ (ë§Œì›)', color: '#00d4ff', font: { size: 16 } }
                },
                scales: {
                    y: { stacked: true, grid: { color: '#333' }, ticks: { color: '#fff' } }, // ëˆ„ì  ì°¨íŠ¸ë¡œ ì„¤ì •í•˜ì—¬ ì „ì²´ ë¹„ìš©ë„ ë³´ì´ê²Œ í•¨
                    x: { stacked: true, grid: { color: '#333' }, ticks: { color: '#fff' } }
                }
            }
        });
    }

    document.addEventListener('DOMContentLoaded', () => {
        renderVehicles();
        renderBatteries();
        renderCharts();
    });
</script>
    <footer style="text-align: center; padding: 40px; color: #888; font-size: 0.8em; border-top: 1px solid rgba(255,255,255,0.1);">
        <p>Â© 2026 ì œì¡°ë§Œë‹¹(Jejomandang). All Rights Reserved.</p>
        <p>ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 235-14-02687 | ìš´ì˜ ì „ë¬¸ê°€ í•œë²”ì„ (Fleet Operations)</p>
    </footer>
</body>
</html>
